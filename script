#/bin/bash
sudo lttng create -o /home/herve/lttng_traces
lttng create
lttng enable-event --userspace uv_provider:uv_done_event,uv_provider:uv_exit_read_stream,uv_provider:uv_read_stream,uv_provider:uv_exit_write_stream,uv_provider:uv_write_stream,uv_provider:uv_runpending_event,uv_provider:uv_exit_runpending_event,uv_provider:uv_updatetime_event,uv_provider:uv_run_event,uv_provider:uv_exit_run_event,uv_provider:uv_loop_alive_event,uv_provider:uv_exit_update_time_event
lttng enable-event --userspace uv_provider:uv_run_timers_event,uv_provider:uv_exit_run_timers_event,uv_provider:uv_runpending_cb_event,uv_provider:uv_run_idle_event,uv_provider:uv_exit_run_idle_event,uv_provider:uv_io_feed_event
lttng enable-event --userspace uv_provider:uv_exit_closinghandle_event,uv_provider:uv_closinghandle_event,uv_provider:uv_out_iopoll_event,uv_provider:uv_watcherq_remove_event,uv_provider:uv_watcherq_insert_event,uv_provider:uv_timersq_insert_event,uv_provider:uv_pendingq_remove_event,uv_provider:uv_fs_read_event
lttng enable-event --userspace uv_provider:uv_timersq_remove_event,uv_provider:uv_exit_timerPhase_event,uv_provider:uv_timerPhase_event,uv_provider:uv_async_file_event,uv_provider:uv_send_event,uv_provider:uv_exit_async_spin_event,uv_provider:uv_run_async_cb_event,uv_provider:uv_exit_asyncio_event,uv_provider:uv_asyncio_event,uv_provider:uv_close_asyncfd_event,uv_provider:uv_exit_async_start_event,uv_provider:uv_async_start_event,uv_provider:uv_exit_async_send_event,uv_provider:uv_async_send_event,uv_provider:uv_insert_reschedule_workq_event,uv_provider:uv_insert_workq_event,uv_provider:uv_mutex_event,uv_provider:uv_workerq_remove_event,uv_provider:uv_exit_worker_event,uv_provider:uv_worker_event,uv_provider:uv_insertslowio_pendwq_event,uv_provider:uv_exit_work_submit_event,uv_provider:uv_work_submit_event,uv_provider:uv_exit_fs_open_event,uv_provider:uv_fs_open_event,uv_provider:uv_exit_fs_read_event,uv_provider:uv_exit_out_iopoll_event,uv_provider:uv_socket_event,uv_provider:uv_close_event,uv_provider:uv_async_spin_event,uv_provider:uv_exit_nonblock_fcntl_event,uv_provider:uv_recvmsg_event,uv_provider:uv_exit_recvmsg_event
lttng add-context --userspace -t procname -t pthread_id
sudo lttng enable-event --kernel --syscall exit,chdir,close,epoll,poll,send,sendto,sendmsg,recv,recvfrom,recvmsg,epoll_ctl,epoll_pwait,epoll_wait,fstat,fstat64,fstatfs,ioctl,lstat,open,openat,pipe,pipe2,poll,preadv,preadv2,pwrite64,pwritev,pwritev2,read,readdir,readv,recv,stat,stat64,statfs64,write,writev
sudo lttng enable-event --kernel sched_switch
lttng start
sudo lttng start
